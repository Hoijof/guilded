(this.webpackJsonpguilded=this.webpackJsonpguilded||[]).push([[0],{150:function(e,t,n){},222:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(0),s=n.n(a),c=n(26),i=n.n(c),o=(n(150),n(151),n(69)),u=n(144),l=n(93),d=n(103);function h(e){return e.ticker}function f(e,t){return e[t].selectedItem}function j(e){return h(e).activeEvents}function p(e){return e.guild}function v(e){return p(e).stats.members}function m(e){return e.quests.quests}function g(e){return m(e).filter((function(e){return e.accepted}))}var b="Morning",y="Afternoon",x="Evening",O="Night",k=["Decembary","Aprimay","Jugust","Septober"],S="QUEST",w="EVENT",C="Go Fetch",T={MALE:"male",FEMALE:"female"},M="Guild",q="Traveling",N="City",E="Camp";function I(e,t){return e.year===t[0]&&e.month===t[1]&&e.day===t[2]}function A(e,t){return G(Q(e)+t)}function L(e){return[e.year,e.month,e.day,e.hour]}function F(e){var t=e[2]>10?e[2]:"0".concat(e[2]);return"".concat(t,"/").concat(k[e[1]],"/").concat(e[0])}function P(e,t){return Q(t)-Q(e)}function Q(e){return 1440*e[0]+360*e[1]+24*(e[2]-1)+e[3]}function G(e){return[Math.floor(e/1440),Math.floor(e/360%4),Math.floor(e/24%15)+1,e%24]}function $(e,t,n,r,a,s,c){return{start:e,end:t,name:n,description:r,type:a,startHandler:s,endHandler:c}}function H(e,t,n){return $(t,n,e.name,e.description,e.type,e.startHandler,e.endHandler)}var D=["Aekkein","Erna","Gica","Iris","Laen","Oanei","Urusla","Unt","Zy","Giny","Teni","Tania","Tenisa","Falish","Tirs","Bera","Boria","Terkia","Tronash","Si","Gi","Ti","Fi","Di","Mi","Peli","Irnia","Beth","Riven","Vi","Lio"],B=["Anttirnet","Carnil","Estiv","Halt","Hoijof","Laen","Lisiern","Berin","Ton","Shome","Regit","Lurin","Maers","Musten","Oanei","Raesh","Terio","Unt","Ust","Redik","James","Loki","Tem","Regot","Josh","Tom","Jei","Lioth"],R=["Golpeo","Anorda","Severnin","Part","Kek-vek-loah","Vaen","Nerivin","Haeshi","Vin-ti-selh","Ver-to","Vintoret","Da Teri","Von Bien","Maer","Serisn","Vintaren","Bertis","Tetirit","Tornet","Bellabi","Geron","Tornes","Gorez","Lorez","Gareth"];function V(e,t){return Math.round(function(e,t){return Math.random()*(t-e)+e}(e,t))}function z(){return"#".concat(Math.floor(16777215*Math.random()).toString(16))}function W(e){return V(0,100)<=e}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.MALE;return e==T.MALE?B[V(0,B.length-1)]:e==T.FEMALE?D[V(0,D.length-1)]:"Bernt"}function U(){return R[V(0,R.length-1)]}function K(e){var t=Object.keys(e);return t[t.length*Math.random()<<0]}var Y=n(100),Z=0;function X(){return Math.random()>.5?"warrior":"mage"}function _(){return{health:V(8,10),energy:V(8,10),strength:V(1,3),willpower:V(1,3),endurance:V(1,3),agility:V(1,3)}}function ee(e){var t=Object.values(e.stats).reduce((function(e,t){return e+t}),0);return 5*e.level+t}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T[V(0,1)],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z(),a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_(),c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{missions:0,yearsInGuild:0};return{id:Z++,sex:t,name:e||J(t),surname:n,color:r,items:[],gold:0,exp:0,level:1,type:a,task:null,location:M,stats:s,computedStats:Object(Y.a)({},s),data:c}}function ne(e){return"".concat(e.name," ").concat(e.surname)}function re(e){var t=e.computedStats;return(t.endurance+t.agility).map(0,20,.5,3)}function ae(e,t){e.computedStats.energy+=Math.floor(t),e.computedStats.energy<0?e.computedStats.energy=0:e.computedStats.energy>e.stats.energy&&(e.stats.computedEnergy=e.stats.energy)}function se(e){return e.exp>ce(e)}function ce(e){return 2*e.level}function ie(e){var t=e.computedStats.energy;e.computedStats=Object(Y.a)({},e.stats),e.computedStats.energy=t}function oe(e,t){return function(n){var r=L(h(n));r[3]++;var a=function(e){var t=e.computedStats.energy;return 0===t?0:Math.floor(t*re(e))}(e.assignee),s=a>=t?t:a;return $(r,A(r,s),"Quest Traveling","None",S,(function(n,r,a){le(r,e,"Going to travel for ".concat(s," of ").concat(t," hours.")),e.assignee.location=q}),(function(n,r,c){var i="We arrived at our destination";!function(e,t){ae(e,-t/re(e))}(e.assignee,s),s<t&&(e.steps.splice(1,0,function(e,t){return function(n){var r=L(h(n));r[3]++;var a=function(e){var t=e.stats.energy,n=e.computedStats.energy;return Math.ceil((t-n)/(t/4))}(e.assignee);return $(r,A(r,a),"Quest Resting","None",S,(function(t,n,r){le(n,e,"Going to rest for ".concat(a," hours.")),e.assignee.location=E}),(function(n,r,s){var c,i;le(r,e,"We are rested!"),c=e.assignee,i=a,ae(c,c.stats.energy/4*i),e.steps.splice(1,0,oe(e,t)),e.assignee.location=q,n({type:"advanceQuest",payload:e})}))}}(e,t-a)),i="We have to stop due to lack of energy."),e.assignee.location=N,le(r,e,i),n({type:"advanceQuest",payload:e})}))}}var ue=0;function le(e,t,n){t.logs.push({id:++ue,createdAt:L(h(e)),log:n})}function de(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function(n){var r=L(h(n));return r[3]++,$(r,A(r,3),"Executing Quest","None",S,(function(r,a,s){t&&le(n,e,"Started searching for the thing.")}),(function(t,r,a){W(50)?le(n,e,"Found the thing."):(le(n,e,"Couldn't find the thing. We'll try again."),e.steps.splice(1,0,de(e,!1))),t({type:"advanceQuest",payload:e})}))};return n}Number.prototype.map=function(e,t,n,r){return(this-e)*(r-n)/(t-e)+n};var he=0;function fe(e){var t=++he,n=h(e),r=A(L(n),24*V(1,4)),a={id:t,name:"No name",description:"No Description",steps:[],reward:0,questValue:0,level:1,accepted:!1,active:!1,completed:!1,assignee:null,logs:[],createdAt:L(n),expiresAt:r,startedAt:null};return function(e){var t=V(4,12);e.name="Go Fetch",e.level=t.map(4,12,1,5),e.description="Go find something somewhere",e.reward=Math.round(2*t+V(-3,4)),e.steps=function(e,t){return[oe(e,t),de(e,C,t),oe(e,t)]}(e,t)}(a),a}function je(e,t){if(t.steps.shift(),0===t.steps.length)return function(e,t){t.completed=!0,t.active=!1,t.assignee.task=null,t.assignee.location=M,n=t.assignee,r=t.level,n.exp+=Math.round(r),le(e,t,"Quest completed. Members gained ".concat(Math.round(t.level)," experience points."));var n,r}(e,t);pe(e,t)}function pe(e,t){var n=t.steps[0](e),r=h(e);r.events.push(n),r.todayEvents.push(n)}function ve(e){var t=L(e);return t[3]=12,$(t,A(t,1),"New quest just arrived!","We may have got new quests from the capital",w,(function(t,n,r){var a=V(0,4);m(n).filter((function(t){return function(e,t){return P(e,t)<0}(L(e),t.expiresAt)&&!t.accepted})).forEach((function(e){t({type:"removeQuest",payload:e})}));for(var s=0;s<a;++s)t({type:"addQuest",payload:fe(n)})}),(function(e,t,n){var r=h(t),a=A(L(r),24);a[3]=12,r.events.push(H(n,a,A(a,1)))}))}function me(e){var t=A(L(e),24);return t[3]=6,$(t,A(t,1),"Performing daily guild checkup","May they have luck!",w,(function(e,t,n){!function(e){(function(e){return g(e).filter((function(e){return!e.startedAt}))})(e).forEach((function(t){!function(e,t){t.startedAt=L(h(e)),t.active=!0,pe(e,t)}(e,t)}))}(t)}),(function(e,t,n){var r=h(t),a=A(L(r),24);a[3]=6,r.events.push(H(n,a,A(a,1)))}))}function ge(e){var t=h(e);t.todayEvents=t.events.filter((function(e){return I(t,e.start)||I(t,e.end)}))}function be(e,t,n,r){t.isPaused||(h(t).stats.ticks++,h(t).hour++,r(n+1),5===n&&(t.ticker.advanceStage(e,t),r(0)),function(e,t){var n=h(t);n.todayEvents.filter((function(e){return I(n,e.start)&&e.start[3]===n.hour})).forEach((function(r){r.startHandler(e,t,r),n.activeEvents.push(r)})),n.todayEvents.filter((function(e){return I(n,e.end)&&e.end[3]===n.hour})).forEach((function(r){r.endHandler(e,t,r),n.events.splice(n.events.indexOf(r),1),n.activeEvents.splice(n.activeEvents.indexOf(r),1)}))}(e,t))}function ye(e,t){var n=h(t);if(n.currentStage===O)return xe(e,t);n.currentStage=function(e){switch(e){case b:return y;case y:return x;case x:return O}}(n.currentStage)}function xe(e,t){var n=h(t);n.currentStage=b,n.hour=0,n.day++,n.day>15&&function(e,t){var n=h(t);n.day=1,n.month++,4===n.month&&function(e,t){var n=h(t);n.month=0,n.year++}(0,t)}(0,t),ge(t)}var Oe={initialize:function(){var e={currentStage:b,hour:0,day:1,month:0,year:475,todayEvents:[],activeEvents:[],events:[],stats:{totalEvents:0,ticks:0},callADay:xe,advanceStage:ye,tick:be},t=$([475,0,5,8],[475,0,6,0],"Fifth of Decembrary","A very beautiful festivity",w,(function(e,t,n){console.log("It's ".concat(n.name,"  !!"))}),(function(e,t,n){var r=h(t);r.events.push(H(n,[r.year+1,0,5,8],[r.year+1,0,6,0]))})),n=$([475,0,1,8],[475,0,8,8],"First Week of the year!","The very first week of the year",w,(function(e,t,n){console.log("It's ".concat(n.name,"  !!"))}),(function(e,t,n){var r=h(t);r.events.push(H(n,[r.year+1,0,1,8],[r.year+1,0,8,1]))})),r=ve(e),a=me(e),s=function(e){var t=A(L(e),24);return t[3]=10,$(t,A(t,1),"Checking for new recruits","Let's see how many join! :D",w,(function(e,t,n){for(var r=V(0,2),a=0;a<r;++a)e({type:"addMember",payload:te()})}),(function(e,t,n){var r=h(t),a=A(L(r),24);a[3]=10,r.events.push(H(n,a,A(a,1)))}))}(e);return e.events.push(t,n,r,a,s),ge({ticker:e}),e}};var ke=n(78),Se=n(38),we=n.n(Se);function Ce(e,t){var n,r,a="string"===typeof t?{type:t}:t;switch(["increaseStageProgress","resetStageProgress"].includes(a.type)||console.log(a),a.type){case"changeSelectedMenu":return we()(e,{selectedItem:{$set:a.payload}});case"switchPause":return we()(e,{isPaused:{$set:!e.isPaused}});case"changeStageSpeed":return we()(e,{stageSpeed:{$set:e.stageSpeed+a.payload}})}switch(a.type){case"changeSelectedContentMenu":return we()(e,Object(ke.a)({},a.payload.stateNamespace,{selectedItem:{$set:a.payload.key}}))}switch(a.type){case"askFounding":return we()(e,{guild:{stats:{gold:{$set:25}}}});case"addGoldToMember":var s=e.guild.stats.members.indexOf(a.payload),c=we()(a.payload,{gold:{$set:a.payload.gold+5}});return we()(e,{guild:{stats:{members:{$splice:[[s,1,c]]},gold:{$set:e.guild.stats.gold-5}}}});case"hireGuildMember":return we()(e,{guild:{stats:{members:{$push:[a.payload]},gold:{$set:e.guild.stats.gold-ee(a.payload)}}},tavern:{recruits:{$splice:[[e.tavern.recruits.indexOf(a.payload),1]]}}})}switch(a.type){case"changeSelectedCityMenu":return we()(e,{city:{selectedItem:{$set:a.payload}}})}switch(a.type){case"addMember":return we()(e,{tavern:{recruits:{$push:[a.payload]}}})}switch(a.type){case"addQuest":return we()(e,{quests:{quests:{$push:[a.payload]}}});case"removeQuest":return we()(e,{quests:{quests:{$splice:[[e.quests.quests.indexOf(a.payload),1]]}}});case"acceptQuest":return n=a.payload.quest,r=a.payload.selectedMember,n.accepted=!0,n.assignee=r,r.task=n,we()(e,{quests:{quests:{$splice:[[e.quests.quests.indexOf(a.payload.quest),1,a.payload.quest]]}}});case"advanceQuest":return je(e,a.payload),we()(e,{quests:{quests:{$splice:[[e.quests.quests.indexOf(a.payload),1,a.payload]]}}});case"closeQuest":return we()(e,{guild:{stats:{gold:{$apply:function(e){return e+a.payload.reward}}}},quests:{quests:{$splice:[[e.quests.quests.indexOf(a.payload),1]]}}})}return console.log("returning Default"),e}var Te=n(228),Me=n(233);function qe(){var e=Object(a.useContext)(It).dispatch;return Object(r.jsxs)(Me.a,{className:"CityMenu",onSelect:function(t){var n=t.key;e({type:"changeSelectedCityMenu",payload:n})},theme:"light",mode:"inline",defaultSelectedKeys:["Overview"],children:[Object(r.jsx)(Me.a.Item,{children:"Overview"},"Overview"),Object(r.jsx)(Me.a.Item,{children:"Guild"},"Guild"),Object(r.jsx)(Me.a.Item,{children:"Market"},"Market"),Object(r.jsx)(Me.a.Item,{children:"Tavern"},"Tavern")]})}function Ne(){var e=Object(a.useContext)(It),t=e.state;e.dispatch;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Overview"}),Object(r.jsx)("h3",{children:"Active Events"}),j(t).map((function(e){return Object(r.jsx)("div",{children:e.name},e.name)}))]})}var Ee=n(225),Ie=n(229);function Ae(e){e.name,e.gold,e.members;var t=Object(a.useContext)(It),n=t.state,s=(t.dispatch,p(n)),c=[{name:"name",value:s.stats.name},{name:"gold",value:s.stats.gold},{name:"members",value:s.stats.members.length},{name:"Active Quests",value:g(n).length}];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ee.a,{orientation:"left",children:"Stats"}),Object(r.jsx)(Ie.b,{size:"small",bordered:!0,dataSource:c,renderItem:function(e){return Object(r.jsxs)(Ie.b.Item,{children:[e.name,": ",e.value]})}})]})}function Le(){var e=Object(a.useContext)(It),t=e.state,n=e.dispatch,s=t.guild.stats,c=s.gold,i=s.members;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ae,{}),Object(r.jsx)("br",{}),0===c&&1===i.length?Object(r.jsx)(l.a,{type:"primary",onClick:function(){n({type:"askFounding"})},children:"Ask for founding to the city council"}):null]})}Ae.displayName="Stats",Le.displayName="Overview";var Fe=n(231),Pe=n(232),Qe=n(230),Ge=n(236);function $e(e,t){return t>e?"success":t<e?"danger":"default"}function He(e){return Object.keys(e.stats).map((function(t){var n=e.stats[t],a=e.computedStats[t];return Object(r.jsxs)(Fe.a.Text,{type:$e(n,a),children:[t,": ",a]},t)}))}function De(e){return Object.keys(e.stats).reduce((function(t,n){return t+e.stats[n]}),0)-e.stats.health}function Be(e){return Object.keys(e.data).map((function(t){var n=e.data[t];return Object(r.jsxs)(Fe.a.Text,{children:[t,": ",n]},t)}))}var Re={width:200,float:"left",margin:5};var Ve=Fe.a.Text,ze=Pe.a.Panel;function We(){var e=Object(a.useContext)(It),t=e.state,n=e.dispatch;return Object(r.jsx)(r.Fragment,{children:t.guild.stats.members.map((function(e,t){return Object(r.jsx)(Qe.a,{style:Re,title:e.name,extra:Object(r.jsx)("div",{style:{width:15,height:15,background:e.color}}),children:Object(r.jsxs)(Ge.b,{style:{width:"100%"},direction:"vertical",children:[Object(r.jsxs)(Ve,{children:["Gold: ",e.gold," ",Object(r.jsx)(Ve,{style:{fontSize:18,cursor:"pointer"},onClick:function(){n({type:"addGoldToMember",payload:e})},children:"+"})]}),Object(r.jsxs)(Ve,{children:["Level: ",e.level," (",e.exp," /"," ",ce(e),")"," ",se(e)?Object(r.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return function(e){e.exp=e.exp-ce(e),e.level++;for(var t=V(1,3),n=0;n<t;n++)e.stats[K(e.stats)]++,ie(e)}(e)},children:"\u25b2"}):null]}),Object(r.jsxs)(Ve,{children:["Type: ",e.type]}),Object(r.jsxs)(Ve,{children:["Location: ",e.location]}),Object(r.jsxs)(Ve,{children:["Task: ",e.task?e.task.name:"None"]}),Object(r.jsx)(Pe.a,{ghost:!0,style:{marginLeft:-15},children:Object(r.jsx)(ze,{header:"Stats (".concat(De(e),")"),children:Object(r.jsx)(Ge.b,{style:{width:"100%"},direction:"vertical",children:He(e)})},"1")}),Object(r.jsx)(Pe.a,{ghost:!0,style:{marginLeft:-15},children:Object(r.jsx)(ze,{header:"Data",children:Object(r.jsx)(Ge.b,{style:{width:"100%"},direction:"vertical",children:Be(e)})},"2")})]})},t)}))})}We.displayName="Members";var Je=n(234),Ue=Fe.a.Title,Ke=Fe.a.Paragraph,Ye=Fe.a.Text,Ze=Pe.a.Panel;function Xe(){var e=Object(a.useContext)(It),t=e.state;e.dispatch;return Object(r.jsx)(Pe.a,{children:g(t).map((function(e,t){return Object(r.jsx)(Ze,{header:"".concat(e.name," "),extra:_e(e),children:Object(r.jsx)(et,{quest:e})},e.id)}))})}function _e(e){return e.startedAt?"Depart date: ".concat(F(e.startedAt)):"Not yet departed"}function et(e){var t=e.quest,n=Object(a.useContext)(It),s=n.state,c=n.dispatch;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ke,{children:t.description}),Object(r.jsxs)(Ke,{children:["The reward for completing this quest is"," ",Object(r.jsxs)(Ye,{strong:!0,children:[t.reward," gold coins"]}),"."]}),Object(r.jsxs)(Ke,{children:["This quest is assigned to: ",ne(t.assignee)," "]}),Object(r.jsx)(Ue,{level:4,children:"Quest Log"}),Object(r.jsx)(tt,{quest:t}),t.completed&&Object(r.jsx)(l.a,{onClick:function(){c({type:"closeQuest",payload:t}),le(s,s.guild,"Finished quest ".concat(t.name," and earned ").concat(t.reward))},children:"Close Quest"})]})}function tt(e){var t=e.quest;return Object(r.jsx)(Je.a,{mode:"right",children:t.logs.map((function(e){return Object(r.jsx)(Je.a.Item,{label:F(e.createdAt),children:e.log},e.id)}))})}function nt(e){var t=e.defaultItem,n=e.menuItems,s=e.stateNamespace,c=Object(a.useContext)(It).dispatch;return Object(r.jsx)(Me.a,{onSelect:function(e){var t=e.key;c({type:"changeSelectedContentMenu",payload:{key:t,stateNamespace:s}})},theme:"light",mode:"horizontal",defaultSelectedKeys:[t],children:n.map((function(e){return Object(r.jsx)(Me.a.Item,{children:e.displayName},e.displayName)}))})}Xe.displayName="Quests";var rt=Te.a.Header,at=Te.a.Content;function st(e,t,n,a){var s=n.find((function(e){return e.displayName===t[a].selectedItem}));return s?Object(r.jsx)(s,{}):"error"}function ct(e){var t=e.menuItems,n=e.stateNamespace,s=Object(a.useContext)(It),c=s.state;s.dispatch;return Object(r.jsxs)(Te.a,{style:{background:"white"},children:[Object(r.jsx)(rt,{theme:"light",style:{background:"white",padding:0},children:Object(r.jsx)(nt,{defaultItem:f(c,n),menuItems:t,stateNamespace:n})}),Object(r.jsx)(at,{style:{background:"white",padding:10,margin:"24px 16px 0",overflow:"initial"},children:st(0,c,t,n)})]})}function it(){return Object(r.jsx)(ct,{menuItems:[Le,We,Xe],stateNamespace:"guild"})}function ot(){return"hola"}var ut=Fe.a.Text;function lt(){var e=Object(a.useContext)(It);e.state,e.dispatch;return Object(r.jsx)(ut,{children:"Welcome to the Tavern, please take a seat!"})}lt.displayName="Overview";var dt=Fe.a.Title,ht=Fe.a.Text,ft=Pe.a.Panel;function jt(){var e=Object(a.useContext)(It),t=e.state,n=e.dispatch;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(dt,{level:4,children:"Available Recruits"}),t.tavern.recruits.map((function(e,a){var s=ee(e),c=t.guild.stats.gold>=s;return Object(r.jsx)(Qe.a,{style:Re,title:"".concat(e.name," ").concat(e.surname),extra:Object(r.jsx)("div",{style:{width:15,height:15,background:e.color}}),children:Object(r.jsxs)(Ge.b,{style:{width:"100%"},direction:"vertical",children:[Object(r.jsxs)(ht,{children:["Level: ",e.level," (",e.exp," / ",2*e.level,")"," ",e.exp>2*e.level?"\u25b2":null]}),Object(r.jsxs)(ht,{children:["Type: ",e.type]}),Object(r.jsx)(Pe.a,{ghost:!0,style:{marginLeft:-15},children:Object(r.jsx)(ft,{header:"Stats (".concat(De(e),")"),children:Object(r.jsx)(Ge.b,{style:{width:"100%"},direction:"vertical",children:He(e)})},"1")}),Object(r.jsxs)(l.a,{type:"primary",disabled:!c,onClick:function(){n({type:"hireGuildMember",payload:e}),t.notify.info({message:"You just hired ".concat(e.name," for ").concat(s," gold coins")})},children:["Hire for ",s," gold coins"]})]})},a)}))]})}jt.displayName="Recruits";var pt=n(142),vt=n(235),mt=n(237),gt=n(238),bt=(Fe.a.Title,Fe.a.Paragraph),yt=Fe.a.Text,xt=Pe.a.Panel;function Ot(e){for(var t=[],n=0;n<e;n++)t.push(Object(r.jsx)(mt.a,{},n));return t}function kt(e,t){var n=P(L(h(e)),t.expiresAt),a="secondary";return n<24&&(a=n<0?"danger":"warning"),Object(r.jsxs)(yt,{type:a,children:[" Expires: ",F(t.expiresAt)," "]})}function St(){var e=Object(a.useContext)(It),t=e.state;e.dispatch;return Object(r.jsx)(Pe.a,{children:t.quests.quests.filter((function(e){return!e.accepted})).map((function(e,n){return Object(r.jsx)(xt,{header:"".concat(e.name," (").concat(e.reward," coins)"),extra:[kt(t,e)].concat(Object(pt.a)(Ot(e.level))),children:Object(r.jsx)(wt,{quest:e})},e.id)}))})}function wt(e){var t=e.quest,n=Object(a.useContext)(It),s=n.state,c=n.dispatch,i=Object(a.useState)(null),u=Object(o.a)(i,2),d=u[0],h=u[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(bt,{children:t.description}),Object(r.jsxs)(bt,{children:["The reward for completing this quest is"," ",Object(r.jsxs)(yt,{strong:!0,children:[t.reward," gold coins"]}),"."]}),Object(r.jsxs)(bt,{children:["Select the Hero that will perform this quest:"," ",Object(r.jsx)(Ct,{selectedMember:d,onChange:h})," "]}),Object(r.jsx)(l.a,{disabled:!d,onClick:function(){c({type:"acceptQuest",payload:{quest:t,selectedMember:d}}),s.notify.info({message:"You just accepted ".concat(t.name," with ").concat(ne(d))})},children:"Start Quest!"})]})}function Ct(e){var t=e.selectedMember,n=e.onChange,s=Object(a.useContext)(It),c=s.state,i=(s.dispatch,Object(r.jsxs)(Me.a,{children:[Object(r.jsx)(Me.a.Item,{onClick:function(){return n(null)},children:"None"},"none"),v(c).filter((function(e){return!e.task})).map((function(e){return Object(r.jsx)(Me.a.Item,{onClick:function(){return n(e)},children:Object(r.jsx)("a",{children:ne(e)})},e.id)}))]}));return Object(r.jsx)(vt.a,{overlay:i,children:Object(r.jsxs)("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},children:[t?ne(t):"None"," ",Object(r.jsx)(gt.a,{})]})})}function Tt(){return Object(r.jsx)(ct,{menuItems:[lt,jt,St],stateNamespace:"tavern"})}St.displayName="Quests";var Mt=Te.a.Sider,qt=Te.a.Content;function Nt(){var e=Object(a.useContext)(It),t=e.state,n=e.dispatch;return Object(r.jsxs)(Te.a,{children:[Object(r.jsx)(Mt,{theme:"light",style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:Object(r.jsx)(qe,{})}),Object(r.jsx)(Te.a,{style:{marginLeft:200,height:"100vh"},children:Object(r.jsx)(qt,{style:{background:"white",padding:10,margin:"24px 16px 0",overflow:"initial"},children:Et(n,t)})})]})}function Et(e,t){switch(t.city.selectedItem){case"Overview":return Object(r.jsx)(Ne,{});case"Guild":return Object(r.jsx)(it,{});case"Market":return Object(r.jsx)(ot,{});case"Tavern":return Object(r.jsx)(Tt,{});default:return"No content for City"}}var It=s.a.createContext();function At(){var e=u.a.useNotification(),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(0),i=Object(o.a)(c,2),h=i[0],f=i[1],j=Object(a.useReducer)(Ce,{guild:{stats:{name:"Tainor",gold:0,members:[te("Hoijof","indigo")],items:[]},logs:[],selectedItem:"Overview"},city:{selectedItem:"Overview"},tavern:{selectedItem:"Overview",recruits:[]},quests:{quests:[],stats:{questsCreated:0,questStarted:0,questsCompleted:0}},selectedCity:"City",stageSpeed:750,isPaused:!1,notify:n,ticker:Oe.initialize()}),p=Object(o.a)(j,2),v=p[0],m=p[1];return function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){v.ticker.tick(m,v,h,f)}),v.stageSpeed),Object(d.a)("space",(function(){return m("switchPause")})),Object(d.a)("*",(function(e){"+"===e.key&&m({type:"changeStageSpeed",payload:-25}),"-"===e.key&&m({type:"changeStageSpeed",payload:25})})),window.state=v,Object(r.jsxs)(It.Provider,{value:{state:v,dispatch:m},children:[s,Lt(v),Object(r.jsxs)("div",{id:"TickerBar",style:{position:"absolute",left:0,bottom:0,width:"100%"},children:[Object(r.jsxs)("div",{children:[v.ticker.day," / ",k[v.ticker.month]," /"," ",v.ticker.year]}),Object(r.jsxs)("div",{children:["Hour: ",v.ticker.hour,":00"]}),Object(r.jsxs)("div",{children:["Time of The Day: ",v.ticker.currentStage]}),Object(r.jsx)(l.a,{onClick:function(){m("switchPause")},children:v.isPaused?"Resume":"Pause"}),Object(r.jsx)("br",{}),Object(r.jsx)(l.a,{onClick:function(){m({type:"changeStageSpeed",payload:10})},children:"-"}),Object(r.jsxs)("span",{children:[" Speed: ",v.stageSpeed," "]}),Object(r.jsx)(l.a,{onClick:function(){m({type:"changeStageSpeed",payload:-10})},children:"+"})]})]})}function Lt(e){switch(e.selectedCity){case"City":return Object(r.jsx)(Nt,{});default:return"No city to render"}}var Ft=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(At,{})})},Pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};i.a.render(Object(r.jsx)(Ft,{}),document.getElementById("root")),Pt()}},[[222,1,2]]]);
//# sourceMappingURL=main.f971f446.chunk.js.map