(this.webpackJsonpguilded=this.webpackJsonpguilded||[]).push([[0],{150:function(e,t,n){},222:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),s=n.n(r),c=n(26),i=n.n(c),o=(n(150),n(151),n(69)),u=n(144),l=n(93),d=n(102);function h(e){return e.ticker}function j(e,t){return e[t].selectedItem}function f(e){return h(e).activeEvents}function p(e){return e.guild}function v(e){return p(e).stats.members}function g(e){return e.quests.quests}function m(e){return g(e).filter((function(e){return e.accepted}))}var b="Morning",y="Afternoon",O="Evening",x="Night",k=["Decembary","Aprimay","Jugust","Septober"],S="QUEST",w="EVENT",C="Go Fetch",T={MALE:"male",FEMALE:"female"},q="Guild",M="Traveling",N="City",E="Camp";function I(e,t){return e.year===t[0]&&e.month===t[1]&&e.day===t[2]}function A(e,t){return G(Q(e)+t)}function F(e){return[e.year,e.month,e.day,e.hour]}function L(e){var t=e[2]>10?e[2]:"0".concat(e[2]);return"".concat(t,"/").concat(k[e[1]],"/").concat(e[0])}function P(e,t){return Q(t)-Q(e)}function Q(e){return 1440*e[0]+360*e[1]+24*(e[2]-1)+e[3]}function G(e){return[Math.floor(e/1440),Math.floor(e/360%4),Math.floor(e/24%15)+1,e%24]}function $(e,t,n,a,r,s,c){return{start:e,end:t,name:n,description:a,type:r,startHandler:s,endHandler:c}}function H(e,t,n){return $(t,n,e.name,e.description,e.type,e.startHandler,e.endHandler)}var D=["Aekkein","Erna","Gica","Iris","Laen","Oanei","Urusla","Unt","Zy","Giny","Teni","Tania","Tenisa","Falish","Tirs","Bera","Boria","Terkia","Tronash","Si","Gi","Ti","Fi","Di","Mi","Peli","Irnia","Beth","Riven","Vi","Lio"],B=["Anttirnet","Carnil","Estiv","Halt","Hoijof","Laen","Lisiern","Berin","Ton","Shome","Regit","Lurin","Maers","Musten","Oanei","Raesh","Terio","Unt","Ust","Redik","James","Loki","Tem","Regot","Josh","Tom","Jei","Lioth"],R=["Golpeo","Anorda","Severnin","Part","Kek-vek-loah","Vaen","Nerivin","Haeshi","Vin-ti-selh","Ver-to","Vintoret","Da Teri","Von Bien","Maer","Serisn","Vintaren","Bertis","Tetirit","Tornet","Bellabi","Geron","Tornes","Gorez","Lorez","Gareth"];function V(e,t){return Math.round(function(e,t){return Math.random()*(t-e)+e}(e,t))}function z(){return"#".concat(Math.floor(16777215*Math.random()).toString(16))}function W(e){return V(0,100)<=e}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.MALE;return e==T.MALE?B[V(0,B.length-1)]:e==T.FEMALE?D[V(0,D.length-1)]:"Bernt"}function U(){return R[V(0,R.length-1)]}var K=n(113),Y=0;function Z(){return Math.random()>.5?"warrior":"mage"}function X(){return{health:V(8,10),energy:V(8,10),strength:V(1,3),willpower:V(1,3),endurance:V(1,3),agility:V(1,3)}}function _(e){var t=Object.values(e.stats).reduce((function(e,t){return e+t}),0);return 5*e.level+t}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T[V(0,1)],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U(),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z(),r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Z(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X(),c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{missions:0,yearsInGuild:0};return{id:Y++,sex:t,name:e||J(t),surname:n,color:a,items:[],gold:0,exp:0,level:1,type:r,task:null,location:q,stats:s,computedStats:Object(K.a)({},s),data:c}}function te(e){return"".concat(e.name," ").concat(e.surname)}function ne(e){var t=e.computedStats,n=t.energy,a=t.endurance,r=t.agility;return 0===n?0:Math.floor((n+a+r)/2)}function ae(e,t){e.computedStats.energy+=Math.floor(t),e.computedStats.energy<0?e.computedStats.energy=0:e.computedStats.energy>e.stats.energy&&(e.stats.computedEnergy=e.stats.energy)}function re(e,t){return function(n){var a=F(h(n));a[3]++;var r=ne(e.assignee),s=r>=t?t:r;return $(a,A(a,s),"Quest Traveling","None",S,(function(n,a,r){ce(a,e,"Going to travel for ".concat(s," of ").concat(t," hours.")),e.assignee.location=M}),(function(n,a,c){var i="We arrived at our destination";!function(e,t){var n=ne(e);ae(e,-e.computedStats.energy*t/n)}(e.assignee,s),s<t&&(e.steps.splice(1,0,function(e,t){return function(n){var a=F(h(n));a[3]++;var r=function(e){var t=e.stats.energy,n=e.computedStats.energy;return Math.ceil((t-n)/(t/4))}(e.assignee);return $(a,A(a,r),"Quest Resting","None",S,(function(t,n,a){ce(n,e,"Going to rest for ".concat(r," hours.")),e.assignee.location=E}),(function(n,a,s){var c,i;ce(a,e,"We are rested!"),c=e.assignee,i=r,ae(c,c.stats.energy/4*i),e.steps.splice(1,0,re(e,t)),e.assignee.location=M,n({type:"advanceQuest",payload:e})}))}}(e,t-r)),i="We have to stop due to lack of energy."),e.assignee.location=N,ce(a,e,i),n({type:"advanceQuest",payload:e})}))}}var se=0;function ce(e,t,n){t.logs.push({id:++se,createdAt:F(h(e)),log:n})}function ie(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function(n){var a=F(h(n));return a[3]++,$(a,A(a,3),"Executing Quest","None",S,(function(a,r,s){t&&ce(n,e,"Started searching for the thing.")}),(function(t,a,r){W(50)?ce(n,e,"Found the thing."):(ce(n,e,"Couldn't find the thing. We'll try again."),e.steps.splice(1,0,ie(e,!1))),t({type:"advanceQuest",payload:e})}))};return n}Number.prototype.map=function(e,t,n,a){return(this-e)*(a-n)/(t-e)+n};var oe=0;function ue(e){var t=++oe,n=h(e),a=A(F(n),24*V(1,4)),r={id:t,name:"No name",description:"No Description",steps:[],reward:0,questValue:0,level:1,accepted:!1,active:!1,completed:!1,assignee:null,logs:[],createdAt:F(n),expiresAt:a,startedAt:null};return function(e){var t=V(2,8);e.name="Go Fetch",e.level=t.map(2,8,1,5),e.description="Go find something somewhere",e.reward=Math.round(2*t+V(-3,4)),e.steps=function(e,t){return[re(e,t),ie(e,C,t),re(e,t)]}(e,t)}(r),r}function le(e,t){if(t.steps.shift(),0===t.steps.length)return function(e,t){t.completed=!0,t.active=!1,t.assignee.task=null,t.assignee.location=q,ce(e,t,"Quest completed")}(e,t);de(e,t)}function de(e,t){var n=t.steps[0](e),a=h(e);a.events.push(n),a.todayEvents.push(n)}function he(e){var t=F(e);return t[3]=12,$(t,A(t,1),"New quest just arrived!","We may have got new quests from the capital",w,(function(t,n,a){var r=V(0,4);g(n).filter((function(t){return function(e,t){return P(e,t)<0}(F(e),t.expiresAt)&&!t.accepted})).forEach((function(e){t({type:"removeQuest",payload:e})}));for(var s=0;s<r;++s)t({type:"addQuest",payload:ue(n)})}),(function(e,t,n){var a=h(t),r=A(F(a),24);r[3]=12,a.events.push(H(n,r,A(r,1)))}))}var je=n(231),fe=n(232),pe=n(229),ve=n(236);function ge(e,t){return t>e?"success":t<e?"danger":"default"}function me(e){return Object.keys(e.stats).map((function(t){var n=e.stats[t],r=e.computedStats[t];return Object(a.jsxs)(je.a.Text,{type:ge(n,r),children:[t,": ",r]},t)}))}function be(e){return Object.keys(e.stats).reduce((function(t,n){return t+e.stats[n]}),0)-e.stats.health}function ye(e){return Object.keys(e.data).map((function(t){var n=e.data[t];return Object(a.jsxs)(je.a.Text,{children:[t,": ",n]},t)}))}var Oe={width:200,float:"left",margin:5};var xe=je.a.Text,ke=fe.a.Panel;function Se(){var e=Object(r.useContext)(qt),t=e.state,n=e.dispatch;return Object(a.jsx)(a.Fragment,{children:t.guild.stats.members.map((function(e,t){return Object(a.jsx)(pe.a,{style:Oe,title:e.name,extra:Object(a.jsx)("div",{style:{width:15,height:15,background:e.color}}),children:Object(a.jsxs)(ve.b,{style:{width:"100%"},direction:"vertical",children:[Object(a.jsxs)(xe,{children:["Gold: ",e.gold," ",Object(a.jsx)(xe,{style:{fontSize:18,cursor:"pointer"},onClick:function(){n({type:"addGoldToMember",payload:e})},children:"+"})]}),Object(a.jsxs)(xe,{children:["Level: ",e.level," (",e.exp," / ",2*e.level,") ",e.exp>2*e.level?"\u25b2":null]}),Object(a.jsxs)(xe,{children:["Type: ",e.type]}),Object(a.jsxs)(xe,{children:["Location: ",e.location]}),Object(a.jsxs)(xe,{children:["Task: ",e.task?e.task.name:"None"]}),Object(a.jsx)(fe.a,{ghost:!0,style:{marginLeft:-15},children:Object(a.jsx)(ke,{header:"Stats (".concat(be(e),")"),children:Object(a.jsx)(ve.b,{style:{width:"100%"},direction:"vertical",children:me(e)})},"1")}),Object(a.jsx)(fe.a,{ghost:!0,style:{marginLeft:-15},children:Object(a.jsx)(ke,{header:"Data",children:Object(a.jsx)(ve.b,{style:{width:"100%"},direction:"vertical",children:ye(e)})},"2")})]})},t)}))})}function we(e){var t=A(F(e),24);return t[3]=6,$(t,A(t,1),"Performing daily guild checkup","May they have luck!",w,(function(e,t,n){!function(e){(function(e){return m(e).filter((function(e){return!e.startedAt}))})(e).forEach((function(t){!function(e,t){t.startedAt=F(h(e)),t.active=!0,de(e,t)}(e,t)}))}(t)}),(function(e,t,n){var a=h(t),r=A(F(a),24);r[3]=6,a.events.push(H(n,r,A(r,1)))}))}function Ce(e){var t=h(e);t.todayEvents=t.events.filter((function(e){return I(t,e.start)||I(t,e.end)}))}function Te(e,t,n,a){t.isPaused||(h(t).stats.ticks++,h(t).hour++,a(n+1),5===n&&(t.ticker.advanceStage(e,t),a(0)),function(e,t){var n=h(t);n.todayEvents.filter((function(e){return I(n,e.start)&&e.start[3]===n.hour})).forEach((function(a){a.startHandler(e,t,a),n.activeEvents.push(a)})),n.todayEvents.filter((function(e){return I(n,e.end)&&e.end[3]===n.hour})).forEach((function(a){a.endHandler(e,t,a),n.events.splice(n.events.indexOf(a),1),n.activeEvents.splice(n.activeEvents.indexOf(a),1)}))}(e,t))}function qe(e,t){var n=h(t);if(n.currentStage===x)return Me(e,t);n.currentStage=function(e){switch(e){case b:return y;case y:return O;case O:return x}}(n.currentStage)}function Me(e,t){var n=h(t);n.currentStage=b,n.hour=0,n.day++,n.day>15&&function(e,t){var n=h(t);n.day=1,n.month++,4===n.month&&function(e,t){var n=h(t);n.month=0,n.year++}(0,t)}(0,t),Ce(t)}Se.displayName="Members";var Ne={initialize:function(){var e={currentStage:b,hour:0,day:1,month:0,year:475,todayEvents:[],activeEvents:[],events:[],stats:{totalEvents:0,ticks:0},callADay:Me,advanceStage:qe,tick:Te},t=$([475,0,5,8],[475,0,6,0],"Fifth of Decembrary","A very beautiful festivity",w,(function(e,t,n){console.log("It's ".concat(n.name,"  !!"))}),(function(e,t,n){var a=h(t);a.events.push(H(n,[a.year+1,0,5,8],[a.year+1,0,6,0]))})),n=$([475,0,1,8],[475,0,8,8],"First Week of the year!","The very first week of the year",w,(function(e,t,n){console.log("It's ".concat(n.name,"  !!"))}),(function(e,t,n){var a=h(t);a.events.push(H(n,[a.year+1,0,1,8],[a.year+1,0,8,1]))})),a=he(e),r=we(e);return e.events.push(t,n,a,r),Ce({ticker:e}),e}};var Ee=n(78),Ie=n(39),Ae=n.n(Ie);function Fe(e,t){var n,a,r="string"===typeof t?{type:t}:t;switch(["increaseStageProgress","resetStageProgress"].includes(r.type)||console.log(r),r.type){case"changeSelectedMenu":return Ae()(e,{selectedItem:{$set:r.payload}});case"switchPause":return Ae()(e,{isPaused:{$set:!e.isPaused}});case"changeStageSpeed":return Ae()(e,{stageSpeed:{$set:e.stageSpeed+r.payload}})}switch(r.type){case"changeSelectedContentMenu":return Ae()(e,Object(Ee.a)({},r.payload.stateNamespace,{selectedItem:{$set:r.payload.key}}))}switch(r.type){case"askFounding":return Ae()(e,{guild:{stats:{gold:{$set:25}}}});case"addGoldToMember":var s=e.guild.stats.members.indexOf(r.payload),c=Ae()(r.payload,{gold:{$set:r.payload.gold+5}});return Ae()(e,{guild:{stats:{members:{$splice:[[s,1,c]]},gold:{$set:e.guild.stats.gold-5}}}});case"hireGuildMember":return Ae()(e,{guild:{stats:{members:{$push:[r.payload]},gold:{$set:e.guild.stats.gold-_(r.payload)}}},tavern:{recruits:{$splice:[[e.tavern.recruits.indexOf(r.payload),1]]}}})}switch(r.type){case"changeSelectedCityMenu":return Ae()(e,{city:{selectedItem:{$set:r.payload}}})}switch(r.type){case"addQuest":return Ae()(e,{quests:{quests:{$push:[r.payload]}}});case"removeQuest":return Ae()(e,{quests:{quests:{$splice:[[e.quests.quests.indexOf(r.payload),1]]}}});case"acceptQuest":return n=r.payload.quest,a=r.payload.selectedMember,n.accepted=!0,n.assignee=a,a.task=n,Ae()(e,{quests:{quests:{$splice:[[e.quests.quests.indexOf(r.payload.quest),1,r.payload.quest]]}}});case"advanceQuest":return le(e,r.payload),Ae()(e,{quests:{quests:{$splice:[[e.quests.quests.indexOf(r.payload),1,r.payload]]}}});case"closeQuest":return Ae()(e,{guild:{stats:{gold:{$apply:function(e){return e+r.payload.reward}}}},quests:{quests:{$splice:[[e.quests.quests.indexOf(r.payload),1]]}}})}return console.log("returning Default"),e}var Le=n(228),Pe=n(233);function Qe(){var e=Object(r.useContext)(qt).dispatch;return Object(a.jsxs)(Pe.a,{className:"CityMenu",onSelect:function(t){var n=t.key;e({type:"changeSelectedCityMenu",payload:n})},theme:"light",mode:"inline",defaultSelectedKeys:["Overview"],children:[Object(a.jsx)(Pe.a.Item,{children:"Overview"},"Overview"),Object(a.jsx)(Pe.a.Item,{children:"Guild"},"Guild"),Object(a.jsx)(Pe.a.Item,{children:"Market"},"Market"),Object(a.jsx)(Pe.a.Item,{children:"Tavern"},"Tavern")]})}function Ge(){var e=Object(r.useContext)(qt),t=e.state;e.dispatch;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Overview"}),Object(a.jsx)("h3",{children:"Active Events"}),f(t).map((function(e){return Object(a.jsx)("div",{children:e.name},e.name)}))]})}var $e=n(227),He=n(230);function De(e){e.name,e.gold,e.members;var t=Object(r.useContext)(qt),n=t.state,s=(t.dispatch,p(n)),c=[{name:"name",value:s.stats.name},{name:"gold",value:s.stats.gold},{name:"members",value:s.stats.members.length},{name:"Active Quests",value:m(n).length}];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)($e.a,{orientation:"left",children:"Stats"}),Object(a.jsx)(He.b,{size:"small",bordered:!0,dataSource:c,renderItem:function(e){return Object(a.jsxs)(He.b.Item,{children:[e.name,": ",e.value]})}})]})}function Be(){var e=Object(r.useContext)(qt),t=e.state,n=e.dispatch,s=t.guild.stats,c=s.gold,i=s.members;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(De,{}),Object(a.jsx)("br",{}),0===c&&1===i.length?Object(a.jsx)(l.a,{type:"primary",onClick:function(){n({type:"askFounding"})},children:"Ask for founding to the city council"}):null]})}De.displayName="Stats",Be.displayName="Overview";var Re=n(234),Ve=je.a.Title,ze=je.a.Paragraph,We=je.a.Text,Je=fe.a.Panel;function Ue(){var e=Object(r.useContext)(qt),t=e.state;e.dispatch;return Object(a.jsx)(fe.a,{children:m(t).map((function(e,t){return Object(a.jsx)(Je,{header:"".concat(e.name," "),extra:Ke(e),children:Object(a.jsx)(Ye,{quest:e})},e.id)}))})}function Ke(e){return e.startedAt?"Depart date: ".concat(L(e.startedAt)):"Not yet departed"}function Ye(e){var t=e.quest,n=Object(r.useContext)(qt),s=n.state,c=n.dispatch;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ze,{children:t.description}),Object(a.jsxs)(ze,{children:["The reward for completing this quest is ",Object(a.jsxs)(We,{strong:!0,children:[t.reward," gold coins"]}),"."]}),Object(a.jsxs)(ze,{children:["This quest is assigned to: ",te(t.assignee)," "]}),Object(a.jsx)(Ve,{level:4,children:"Quest Log"}),Object(a.jsx)(Ze,{quest:t}),t.completed&&Object(a.jsx)(l.a,{onClick:function(){c({type:"closeQuest",payload:t}),ce(s,s.guild,"Finished quest ".concat(t.name," and earned ").concat(t.reward))},children:"Close Quest"})]})}function Ze(e){var t=e.quest;return Object(a.jsx)(Re.a,{mode:"right",children:t.logs.map((function(e){return Object(a.jsx)(Re.a.Item,{label:L(e.createdAt),children:e.log},e.id)}))})}function Xe(e){var t=e.defaultItem,n=e.menuItems,s=e.stateNamespace,c=Object(r.useContext)(qt).dispatch;return Object(a.jsx)(Pe.a,{onSelect:function(e){var t=e.key;c({type:"changeSelectedContentMenu",payload:{key:t,stateNamespace:s}})},theme:"light",mode:"horizontal",defaultSelectedKeys:[t],children:n.map((function(e){return Object(a.jsx)(Pe.a.Item,{children:e.displayName},e.displayName)}))})}Ue.displayName="Quests";var _e=Le.a.Header,et=Le.a.Content;function tt(e,t,n,r){var s=n.find((function(e){return e.name===t[r].selectedItem}));return s?Object(a.jsx)(s,{}):"error"}function nt(e){var t=e.menuItems,n=e.stateNamespace,s=Object(r.useContext)(qt),c=s.state;s.dispatch;return Object(a.jsxs)(Le.a,{style:{background:"white"},children:[Object(a.jsx)(_e,{theme:"light",style:{background:"white",padding:0},children:Object(a.jsx)(Xe,{defaultItem:j(c,n),menuItems:t,stateNamespace:n})}),Object(a.jsx)(et,{style:{background:"white",padding:10,margin:"24px 16px 0",overflow:"initial"},children:tt(0,c,t,n)})]})}function at(){return Object(a.jsx)(nt,{menuItems:[Be,Se,Ue],stateNamespace:"guild"})}function rt(){return"hola"}var st=je.a.Text;function ct(){var e=Object(r.useContext)(qt);e.state,e.dispatch;return Object(a.jsx)(st,{children:"Welcome to the Tavern, please take a seat!"})}ct.displayName="Overview";var it=je.a.Title,ot=je.a.Text,ut=fe.a.Panel;function lt(){var e=Object(r.useContext)(qt),t=e.state,n=e.dispatch;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(it,{level:4,children:"Available Recruits"}),t.tavern.recruits.map((function(e,r){var s=_(e),c=t.guild.stats.gold>=s;return Object(a.jsx)(pe.a,{style:Oe,title:"".concat(e.name," ").concat(e.surname),extra:Object(a.jsx)("div",{style:{width:15,height:15,background:e.color}}),children:Object(a.jsxs)(ve.b,{style:{width:"100%"},direction:"vertical",children:[Object(a.jsxs)(ot,{children:["Level: ",e.level," (",e.exp," / ",2*e.level,")"," ",e.exp>2*e.level?"\u25b2":null]}),Object(a.jsxs)(ot,{children:["Type: ",e.type]}),Object(a.jsx)(fe.a,{ghost:!0,style:{marginLeft:-15},children:Object(a.jsx)(ut,{header:"Stats (".concat(be(e),")"),children:Object(a.jsx)(ve.b,{style:{width:"100%"},direction:"vertical",children:me(e)})},"1")}),Object(a.jsxs)(l.a,{type:"primary",disabled:!c,onClick:function(){n({type:"hireGuildMember",payload:e}),t.notify.info({message:"You just hired ".concat(e.name," for ").concat(s," gold coins")})},children:["Hire for ",s," gold coins"]})]})},r)}))]})}lt.displayName="Recruits";var dt=n(142),ht=n(235),jt=n(237),ft=n(238),pt=(je.a.Title,je.a.Paragraph),vt=je.a.Text,gt=fe.a.Panel;function mt(e){for(var t=[],n=0;n<e;n++)t.push(Object(a.jsx)(jt.a,{},n));return t}function bt(e,t){var n=P(F(h(e)),t.expiresAt),r="secondary";return n<24&&(r=n<0?"danger":"warning"),Object(a.jsxs)(vt,{type:r,children:[" Expires: ",L(t.expiresAt)," "]})}function yt(){var e=Object(r.useContext)(qt),t=e.state;e.dispatch;return Object(a.jsx)(fe.a,{children:t.quests.quests.filter((function(e){return!e.accepted})).map((function(e,n){return Object(a.jsx)(gt,{header:"".concat(e.name," (").concat(e.reward," coins)"),extra:[bt(t,e)].concat(Object(dt.a)(mt(e.level))),children:Object(a.jsx)(Ot,{quest:e})},e.id)}))})}function Ot(e){var t=e.quest,n=Object(r.useContext)(qt),s=n.state,c=n.dispatch,i=Object(r.useState)(null),u=Object(o.a)(i,2),d=u[0],h=u[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(pt,{children:t.description}),Object(a.jsxs)(pt,{children:["The reward for completing this quest is ",Object(a.jsxs)(vt,{strong:!0,children:[t.reward," gold coins"]}),"."]}),Object(a.jsxs)(pt,{children:["Select the Hero that will perform this quest: ",Object(a.jsx)(xt,{selectedMember:d,onChange:h})," "]}),Object(a.jsx)(l.a,{disabled:!d,onClick:function(){c({type:"acceptQuest",payload:{quest:t,selectedMember:d}}),s.notify.info({message:"You just accepted ".concat(t.name," with ").concat(te(d))})},children:"Start Quest!"})]})}function xt(e){var t=e.selectedMember,n=e.onChange,s=Object(r.useContext)(qt),c=s.state,i=(s.dispatch,Object(a.jsxs)(Pe.a,{children:[Object(a.jsx)(Pe.a.Item,{onClick:function(){return n(null)},children:"None"},"none"),v(c).filter((function(e){return!e.task})).map((function(e){return Object(a.jsx)(Pe.a.Item,{onClick:function(){return n(e)},children:Object(a.jsx)("a",{children:te(e)})},e.id)}))]}));return Object(a.jsx)(ht.a,{overlay:i,children:Object(a.jsxs)("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},children:[t?te(t):"None"," ",Object(a.jsx)(ft.a,{})]})})}function kt(){return Object(a.jsx)(nt,{menuItems:[ct,lt,yt],stateNamespace:"tavern"})}yt.displayName="Quests";var St=Le.a.Sider,wt=Le.a.Content;function Ct(){var e=Object(r.useContext)(qt),t=e.state,n=e.dispatch;return Object(a.jsxs)(Le.a,{children:[Object(a.jsx)(St,{theme:"light",style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:Object(a.jsx)(Qe,{})}),Object(a.jsx)(Le.a,{style:{marginLeft:200,height:"100vh"},children:Object(a.jsx)(wt,{style:{background:"white",padding:10,margin:"24px 16px 0",overflow:"initial"},children:Tt(n,t)})})]})}function Tt(e,t){switch(t.city.selectedItem){case"Overview":return Object(a.jsx)(Ge,{});case"Guild":return Object(a.jsx)(at,{});case"Market":return Object(a.jsx)(rt,{});case"Tavern":return Object(a.jsx)(kt,{});default:return"No content for City"}}var qt=s.a.createContext();function Mt(){var e=u.a.useNotification(),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(0),i=Object(o.a)(c,2),h=i[0],j=i[1],f=Object(r.useReducer)(Fe,{guild:{stats:{name:"Tainor",gold:0,members:[ee("Hoijof","indigo")],items:[]},logs:[],selectedItem:"Overview"},city:{selectedItem:"Overview"},tavern:{selectedItem:"Overview",recruits:[1,2,3,4].map((function(){return ee()}))},quests:{quests:[],stats:{questsCreated:0,questStarted:0,questsCompleted:0}},selectedCity:"City",stageSpeed:750,isPaused:!1,notify:n,ticker:Ne.initialize()}),p=Object(o.a)(f,2),v=p[0],g=p[1];return function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){v.ticker.tick(g,v,h,j)}),v.stageSpeed),Object(d.a)("space",(function(){return g("switchPause")})),Object(d.a)("*",(function(e){"+"===e.key&&g({type:"changeStageSpeed",payload:-25}),"-"===e.key&&g({type:"changeStageSpeed",payload:25})})),window.state=v,Object(a.jsxs)(qt.Provider,{value:{state:v,dispatch:g},children:[s,Nt(v),Object(a.jsxs)("div",{id:"TickerBar",style:{position:"absolute",left:0,bottom:0,width:"100%"},children:[Object(a.jsxs)("div",{children:[v.ticker.day," / ",k[v.ticker.month]," / ",v.ticker.year]}),Object(a.jsxs)("div",{children:["Hour: ",v.ticker.hour,":00"]}),Object(a.jsxs)("div",{children:["Time of The Day: ",v.ticker.currentStage]}),Object(a.jsx)(l.a,{onClick:function(){g("switchPause")},children:v.isPaused?"Resume":"Pause"}),Object(a.jsx)("br",{}),Object(a.jsx)(l.a,{onClick:function(){g({type:"changeStageSpeed",payload:10})},children:"-"}),Object(a.jsxs)("span",{children:[" Speed: ",v.stageSpeed," "]}),Object(a.jsx)(l.a,{onClick:function(){g({type:"changeStageSpeed",payload:-10})},children:"+"})]})]})}function Nt(e){switch(e.selectedCity){case"City":return Object(a.jsx)(Ct,{});default:return"No city to render"}}var Et=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(Mt,{})})},It=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};i.a.render(Object(a.jsx)(Et,{}),document.getElementById("root")),It()}},[[222,1,2]]]);
//# sourceMappingURL=main.6fde6046.chunk.js.map